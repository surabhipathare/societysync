const{__:__,_x:_x,_n:_n,_nx:_nx}=wp.i18n;export function moduleData(){return{props:{display:String,name:String,block:Object,contextualData:Object},data:function(){return{loading:!0,availableOptions:[],img:{},imageSelected:"",populated:this.returnPopulated,strings:{placeholder:__("Input placeholder...","uipress-pro"),replace:__("Replace","uipress-pro"),chooseImage:__("Add image","uipress-lite")}}},inject:["uipData","uipress","uiTemplate","uipMediaLibrary"],watch:{},mounted:function(){},computed:{returnPlaceHolder(){let e=this.uipress.get_block_option(this.block,"block","inputPlaceHolder",!0);return e?this.uipress.isObject(e)?"string"in e?e.string:"":e:""},returnLabel(){let e=this.uipress.get_block_option(this.block,"block","inputLabel",!0);return e?this.uipress.isObject(e)?"string"in e?e.string:"":e:""},returnRequired(){return this.uipress.get_block_option(this.block,"block","inputRequired")},returnName(){return this.uipress.get_block_option(this.block,"block","inputName")},returnOptions(){let e=this.uipress.get_block_option(this.block,"block","selectOptions");return this.availableOptions=e.options,this.availableOptions},returnPopulated(){if(void 0!==this.contextualData&&this.uipress.isObject(this.contextualData)&&"formData"in this.contextualData)return this.contextualData.formData&&this.returnName in this.contextualData.formData?(""==this.imageSelected&&(this.imageSelected=this.contextualData.formData[this.returnName]),this.imageSelected):""},returnClasses(){let e="";return e+=this.uipress.get_block_option(this.block,"advanced","classes")}},methods:{chooseImage(){let e=this,i=new e.uipMediaLibrary({multiple:!1,style:"modal",features:["stock","upload"],fileTypes:["image/*"]});i.create(),i.on("uip_media_selected",function(i){i.detail.files&&(e.imageSelected=i.detail.files.url)})}},template:'\t\t  <div class="uip-flex uip-flex-column" :id="block.uid" :class="returnClasses"><span class="uip-input-label uip-text-muted uip-margin-bottom-xxs">{{returnLabel}}</span>\t\t    <input v-model="imageSelected" type="text" :name="returnName" :value-holder="returnPopulated" style="opacity:0;max-height:0;min-height:0;overflow:hidden;" :required="returnRequired">\t\t  \t          <div class="uip-background-muted uip-border-round uip-overflow-hidden uip-image-select">                    <div v-if="imageSelected" class="uip-background-grey uip-flex uip-flex-center uip-flex-middle uip-position-relative uip-scale-in-center">            <img v-if="imageSelected" class="uip-max-h-120" :src="imageSelected">          </div>                    <div class="uip-flex uip-flex-column uip-padding-xs uip-row-gap-xs">            <div v-if="imageSelected" class="uip-flex uip-flex-column uip-flex-start uip-scale-in-center">              <div class="uip-no-wrap uip-text-ellipsis uip-overflow-hidden uip-max-w-100p uip-text-s">{{imageSelected.split(\'/\').pop()}}</div>            </div>            <div class="uip-flex uip-flex-row uip-flex-between uip-flex-center">              <div class="uip-flex uip-flex-row uip-gap-xs">                <div @click="chooseImage()">                  <div v-if="imageSelected" class="uip-link-default uip-text-bold">{{strings.replace}}</div>                  <div v-if="!imageSelected" class="uip-flex uip-gap-xxs uip-flex-center">                    <div class="uip-icon uip-icon-medium">add</div>                    <div class="uip-link-default uip-text-bold">{{strings.chooseImage}}</div>                  </div>                </div>              </div>              <div v-if="imageSelected" class="uip-icon uip-text-l uip-icon-medium uip-link-danger" @click="imageSelected = \'\'">delete</div>            </div>          </div>        </div>        \t\t </div>'}};